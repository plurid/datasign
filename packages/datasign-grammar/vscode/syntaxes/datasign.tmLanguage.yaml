$schema: 'https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json'
name: datasign
scopeName: source.plurid
patterns:
  - include: '#core'
repository:
  core:
    patterns:
      - include: '#keywords'
      - include: '#fields'
      - include: '#data-dividers'
  keywords:
    patterns:
      - name: keyword.control.datasign
        match: '\b(data)\b'
      - name: keyword.control.datasign
        match: '^\s*?(\w+):'
      - name: keyword.control.datasign
        match: '^\s*?(@\w+):'
  fields:
    patterns:
      - name: constant.language
        match: '^\s*?(\w+):'
      - name: constant.language
        match: '^\s*?(@\w+):'
  data-dividers:
    begin: '{'
    end: '}'
    beginCaptures:
      0:
        name: punctuation.paren.open
    endCaptures:
      0:
        name: punctuation.paren.close
    name: expression.group
    patterns:
      - include: '#keywords'
